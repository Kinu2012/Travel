<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ—…è¡Œã‚¢ãƒ³ã‚±ãƒ¼ãƒˆ</title>
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>
<div class="container" id="questionnaire-screen">
        <div class="screen active">
            <!-- ãƒ˜ãƒƒãƒ€ãƒ¼ -->
            <div class="questionnaire-header">
                <h1>æ—…è¡Œã‚¢ãƒ³ã‚±ãƒ¼ãƒˆ</h1>
                <p class="subtitle">æ¬¡ã®æ—…è¡Œã‚’è¨ˆç”»ã™ã‚‹ãŸã‚ã«ã€<br>ã„ãã¤ã‹ã®ç°¡å˜ãªè³ªå•ã«ç­”ãˆã¦ãã ã•ã„ï¼</p>
            </div>

            <!-- é€²æ—è¡¨ç¤º -->
            <div class="progress-section">
                <div class="progress-text" id="progress-text">è³ªå•ï¼‘ï¼ï¼•</div>
                <div class="progress-bar">
                    <div class="progress-fill" id="progress-fill"></div>
                </div>
            </div>

            <!-- è³ªå•ãƒ•ã‚©ãƒ¼ãƒ  -->
            <form id="questionnaire-form" action="proposal.html" method="GET">
                <!-- è³ªå•1 -->
                <div class="question-area active" data-question="1">
                    <h2 class="question-text">ä»Šã®æ°—åˆ†ã¯ã©ã‚“ãªæ„Ÿã˜ï¼Ÿ</h2>
                    
                    <div class="options-grid">
                        <div class="option-row">
                            <div class="mood-option">
                                <input type="radio" id="mood1" name="mood" value="excited" required>
                                <label for="mood1" class="mood-label">
                                    <span class="mood-emoji">ğŸ‰</span>
                                    <span class="mood-text">ãƒ¯ã‚¯ãƒ¯ã‚¯ã—ã¦ã„ã‚‹</span>
                                </label>
                            </div>
                            <div class="mood-option">
                                <input type="radio" id="mood2" name="mood" value="relaxed" required>
                                <label for="mood2" class="mood-label">
                                    <span class="mood-emoji">ğŸ˜Œ</span>
                                    <span class="mood-text">ã®ã‚“ã³ã‚Šã—ã¦ã„ã‚‹</span>
                                </label>
                            </div>
                        </div>

                        <div class="option-row">
                            <div class="mood-option">
                                <input type="radio" id="mood3" name="mood" value="adventurous" required>
                                <label for="mood3" class="mood-label">
                                    <span class="mood-emoji">ğŸ”ï¸</span>
                                    <span class="mood-text">å†’é™ºã—ãŸã„</span>
                                </label>
                            </div>
                            <div class="mood-option">
                                <input type="radio" id="mood4" name="mood" value="chilled" required>
                                <label for="mood4" class="mood-label">
                                    <span class="mood-emoji">ğŸµ</span>
                                    <span class="mood-text">ã¾ã£ãŸã‚Šã—ãŸã„</span>
                                </label>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- è³ªå•2 -->
                <div class="question-area" data-question="2">
                    <h2 class="question-text">æ—…è¡Œã®ç›®çš„ã¯ä½•ã§ã™ã‹ï¼Ÿ</h2>
                    
                    <div class="options-grid">
                        <div class="option-row">
                            <div class="mood-option">
                                <input type="radio" id="purpose1" name="purpose" value="relax" required>
                                <label for="purpose1" class="mood-label">
                                    <span class="mood-emoji">ğŸ–ï¸</span>
                                    <span class="mood-text">ãƒªãƒ©ãƒƒã‚¯ã‚¹</span>
                                </label>
                            </div>
                            <div class="mood-option">
                                <input type="radio" id="purpose2" name="purpose" value="adventure" required>
                                <label for="purpose2" class="mood-label">
                                    <span class="mood-emoji">ğŸ§—</span>
                                    <span class="mood-text">ã‚¢ãƒ‰ãƒ™ãƒ³ãƒãƒ£ãƒ¼</span>
                                </label>
                            </div>
                        </div>

                        <div class="option-row">
                            <div class="mood-option">
                                <input type="radio" id="purpose3" name="purpose" value="culture" required>
                                <label for="purpose3" class="mood-label">
                                    <span class="mood-emoji">ğŸ¯</span>
                                    <span class="mood-text">æ–‡åŒ–ä½“é¨“</span>
                                </label>
                            </div>
                            <div class="mood-option">
                                <input type="radio" id="purpose4" name="purpose" value="gourmet" required>
                                <label for="purpose4" class="mood-label">
                                    <span class="mood-emoji">ğŸ£</span>
                                    <span class="mood-text">ã‚°ãƒ«ãƒ¡</span>
                                </label>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- è³ªå•3 -->
                <div class="question-area" data-question="3">
                    <h2 class="question-text">æ—…è¡Œã®äºˆç®—ã¯ï¼Ÿ</h2>
                    
                    <div class="options-grid">
                        <div class="option-row single-row">
                            <div class="mood-option">
                                <input type="radio" id="budget1" name="budget" value="low" required>
                                <label for="budget1" class="mood-label">
                                    <span class="mood-emoji">ğŸ’°</span>
                                    <span class="mood-text">ç¯€ç´„ã—ãŸã„<br><small>ï¼ˆ3ä¸‡å††ä»¥ä¸‹ï¼‰</small></span>
                                </label>
                            </div>
                            <div class="mood-option">
                                <input type="radio" id="budget2" name="budget" value="medium" required>
                                <label for="budget2" class="mood-label">
                                    <span class="mood-emoji">ğŸ’µ</span>
                                    <span class="mood-text">æ™®é€š<br><small>ï¼ˆ3ã€œ8ä¸‡å††ï¼‰</small></span>
                                </label>
                            </div>
                            <div class="mood-option">
                                <input type="radio" id="budget3" name="budget" value="high" required>
                                <label for="budget3" class="mood-label">
                                    <span class="mood-emoji">ğŸ’</span>
                                    <span class="mood-text">è´…æ²¢<br><small>ï¼ˆ8ä¸‡å††ä»¥ä¸Šï¼‰</small></span>
                                </label>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- è³ªå•4 -->
                <div class="question-area" data-question="4">
                    <h2 class="question-text">æ—…è¡ŒæœŸé–“ã¯ï¼Ÿ</h2>
                    
                    <div class="options-grid">
                        <div class="option-row single-row">
                            <div class="mood-option">
                                <input type="radio" id="duration1" name="duration" value="short" required>
                                <label for="duration1" class="mood-label">
                                    <span class="mood-emoji">ğŸŒ…</span>
                                    <span class="mood-text">æ—¥å¸°ã‚Šã€œ1æ³Š</span>
                                </label>
                            </div>
                            <div class="mood-option">
                                <input type="radio" id="duration2" name="duration" value="medium" required>
                                <label for="duration2" class="mood-label">
                                    <span class="mood-emoji">ğŸ¨</span>
                                    <span class="mood-text">2ã€œ3æ³Š</span>
                                </label>
                            </div>
                            <div class="mood-option">
                                <input type="radio" id="duration3" name="duration" value="long" required>
                                <label for="duration3" class="mood-label">
                                    <span class="mood-emoji">âœˆï¸</span>
                                    <span class="mood-text">4æ³Šä»¥ä¸Š</span>
                                </label>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- è³ªå•5 -->
                <div class="question-area" data-question="5">
                    <h2 class="question-text">åŒè¡Œè€…ã¯ï¼Ÿ</h2>
                    
                    <div class="options-grid">
                        <div class="option-row single-row">
                            <div class="mood-option">
                                <input type="radio" id="companion1" name="companion" value="solo" required>
                                <label for="companion1" class="mood-label">
                                    <span class="mood-emoji">ğŸ™‹</span>
                                    <span class="mood-text">ä¸€äººæ—…</span>
                                </label>
                            </div>
                            <div class="mood-option">
                                <input type="radio" id="companion2" name="companion" value="couple" required>
                                <label for="companion2" class="mood-label">
                                    <span class="mood-emoji">ğŸ‘«</span>
                                    <span class="mood-text">ã‚«ãƒƒãƒ—ãƒ«</span>
                                </label>
                            </div>
                            <div class="mood-option">
                                <input type="radio" id="companion3" name="companion" value="family" required>
                                <label for="companion3" class="mood-label">
                                    <span class="mood-emoji">ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦</span>
                                    <span class="mood-text">å®¶æ—</span>
                                </label>
                            </div>
                            <div class="mood-option">
                                <input type="radio" id="companion4" name="companion" value="friends" required>
                                <label for="companion4" class="mood-label">
                                    <span class="mood-emoji">ğŸ‘¥</span>
                                    <span class="mood-text">å‹äºº</span>
                                </label>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãƒœã‚¿ãƒ³ -->
                <div class="navigation-buttons">
                    <button type="button" class="nav-btn prev-btn" id="prev-btn" disabled>
                        <span>â†</span> å‰ã¸
                    </button>
                    <button type="button" class="nav-btn next-btn" id="next-btn">
                        æ¬¡ã¸ <span>â†’</span>
                    </button>
                    <button type="submit" class="nav-btn submit-btn" id="submit-btn" style="display: none;">
                        ãƒ—ãƒ©ãƒ³ã‚’ææ¡ˆã™ã‚‹ <span>âœ¨</span>
                    </button>
                </div>
            </form>
        </div>
    </div>

    <script>
        // ãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿å¾Œã«å®Ÿè¡Œ
        document.addEventListener('DOMContentLoaded', function() {
            console.log('ãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿å®Œäº†');
            
            const questions = document.querySelectorAll('.question-area');
            const progressText = document.getElementById('progress-text');
            const progressFill = document.getElementById('progress-fill');
            const nextBtn = document.getElementById('next-btn');
            const prevBtn = document.getElementById('prev-btn');
            const submitBtn = document.getElementById('submit-btn');
            
            let currentQuestion = 0;
            const totalQuestions = questions.length;
            
            console.log('è¦ç´ æ•°:', {
                questions: questions.length,
                nextBtn: !!nextBtn,
                prevBtn: !!prevBtn
            });
            
            // ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼
            nextBtn.addEventListener('click', nextQuestion);
            prevBtn.addEventListener('click', prevQuestion);
            
            // ã‚ªãƒ—ã‚·ãƒ§ãƒ³é¸æŠã®å‡¦ç†
            document.querySelectorAll('.mood-option input').forEach(radio => {
                radio.addEventListener('change', function() {
                    console.log('é¸æŠå¤‰æ›´:', this.value);
                    updateNavigation();
                });
            });
            
            // è³ªå•è¡¨ç¤ºé–¢æ•°
            function showQuestion(index) {
                console.log('è³ªå•è¡¨ç¤º:', index);
                questions.forEach((q, i) => {
                    q.classList.toggle('active', i === index);
                });
                
                // é€²æ—æ›´æ–°
                const progressPercent = ((index + 1) / totalQuestions) * 100;
                progressText.textContent = `è³ªå•${index + 1}ï¼${totalQuestions}`;
                progressFill.style.width = `${progressPercent}%`;
                
                // ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³æ›´æ–°
                updateNavigation();
            }
            
            // ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³æ›´æ–°
            function updateNavigation() {
                const currentQuestionElement = questions[currentQuestion];
                const isAnswered = currentQuestionElement.querySelector('input:checked');
                
                console.log('ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³æ›´æ–°:', {
                    currentQuestion: currentQuestion,
                    isAnswered: !!isAnswered
                });
                
                // å‰ã¸ãƒœã‚¿ãƒ³
                prevBtn.disabled = currentQuestion === 0;
                
                // æ¬¡ã¸/é€ä¿¡ãƒœã‚¿ãƒ³
                if (currentQuestion === totalQuestions - 1) {
                    nextBtn.style.display = 'none';
                    submitBtn.style.display = isAnswered ? 'flex' : 'none';
                } else {
                    nextBtn.style.display = 'flex';
                    submitBtn.style.display = 'none';
                    nextBtn.disabled = !isAnswered;
                    nextBtn.style.opacity = isAnswered ? '1' : '0.7';
                    nextBtn.style.cursor = isAnswered ? 'pointer' : 'not-allowed';
                }
            }
            
            function nextQuestion() {
                console.log('æ¬¡ã¸ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯');
                const currentQuestionElement = questions[currentQuestion];
                const isAnswered = currentQuestionElement.querySelector('input:checked');
                
                if (!isAnswered) {
                    alert('é¸æŠã—ã¦ãã ã•ã„ï¼');
                    return;
                }
                
                if (currentQuestion < totalQuestions - 1) {
                    currentQuestion++;
                    showQuestion(currentQuestion);
                }
            }
            
            function prevQuestion() {
                console.log('å‰ã¸ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯');
                if (currentQuestion > 0) {
                    currentQuestion--;
                    showQuestion(currentQuestion);
                }
            }
            
            // åˆæœŸè¡¨ç¤º
            showQuestion(0);
        });
    </script>
</body>
</html>